---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: ephemerons.qualified.io
spec:
  group: qualified.io
  names:
    categories: []
    kind: Ephemeron
    plural: ephemerons
    shortNames:
      - eph
      - ephs
    singular: ephemeron
  scope: Cluster
  versions:
    - additionalPrinterColumns: []
      name: v1alpha1
      schema:
        openAPIV3Schema:
          description: "Auto-generated derived type for EphemeronSpec via `CustomResource`"
          properties:
            spec:
              properties:
                expirationTime:
                  description: The date and time to kill this service on.
                  format: date-time
                  type: string
                service:
                  description: The service to create.
                  properties:
                    command:
                      description: Optionally specify the command to use.
                      items:
                        type: string
                      nullable: true
                      type: array
                    image:
                      description: The image to use.
                      type: string
                    imagePullPolicy:
                      description: "Image pull policy. One of Always, Never, IfNotPresent."
                      nullable: true
                      type: string
                    ingressAnnotations:
                      additionalProperties:
                        type: string
                      description: Ingress annotations.
                      type: object
                    port:
                      description: The port to use.
                      maximum: 65535.0
                      minimum: 1.0
                      type: integer
                    readinessProbe:
                      description: Probe to tell when the service is ready to accept traffic.
                      nullable: true
                      properties:
                        initialDelaySeconds:
                          description: Number of seconds after the container has started before probes are initiated.
                          format: int32
                          nullable: true
                          type: integer
                        path:
                          description: Path to make a request to.
                          type: string
                        periodSeconds:
                          description: How often (in seconds) to perform the probe. Default to 10 seconds. Minimum value is 1.
                          format: int32
                          nullable: true
                          type: integer
                        timeoutSeconds:
                          description: Number of seconds after which the probe times out. Defaults to 1 second. Minimum value is 1.
                          format: int32
                          nullable: true
                          type: integer
                      required:
                        - path
                      type: object
                    tlsSecretName:
                      description: The name of the TLS secret.
                      nullable: true
                      type: string
                    workingDir:
                      description: The directory to run command in.
                      nullable: true
                      type: string
                  required:
                    - image
                    - port
                  type: object
              required:
                - expirationTime
                - service
              type: object
            status:
              nullable: true
              properties:
                conditions:
                  items:
                    properties:
                      lastTransitionTime:
                        description: Last time the condition transitioned from one status to another.
                        format: date-time
                        type: string
                      status:
                        default: Unknown
                        description: Status of the condition.
                        enum:
                          - Unknown
                          - "True"
                          - "False"
                        type: string
                      type:
                        description: Type of condition.
                        pattern: "^([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9]$"
                        type: string
                    required:
                      - lastTransitionTime
                      - status
                      - type
                    type: object
                  type: array
                  x-kubernetes-list-map-keys:
                    - type
                  x-kubernetes-list-type: map
                observedGeneration:
                  description: The last reconciled generation.
                  format: int64
                  minimum: 0.0
                  type: integer
              required:
                - observedGeneration
              type: object
          required:
            - spec
          title: Ephemeron
          type: object
      served: true
      storage: true
      subresources:
        status: {}

